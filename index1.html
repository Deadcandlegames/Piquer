<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Piquer â€” Basic Card Game UI</title>
  <style>
    :root{
      --bg:#0f1724;
      --table:#122233;
      --panel:#0b2436;
      --accent:#ff8c42;
      --muted:#9fb2c8;
      --card:#f9fafb;
      --glass: rgba(255,255,255,0.04);
      --radius:12px;

      /* Responsive sizes (use clamp so sizes adapt smoothly) */
      --table-center-width: clamp(220px, 36vw, 420px);
      --table-gap: 16px;
      --table-padding: clamp(12px, 2.4vw, 20px);

      /* card slot sizing that adapts */
      --card-w: clamp(44px, 7.5vw, 72px);
      --card-h: calc(var(--card-w) * 1.45);

      /* row heights */
      --row-outer: clamp(80px, 8vh, 120px);

      /* scale fallback (JS may overwrite) */
      --ui-scale: 1;
    }

    /* Let container queries work on .table */
    .table { container-type: inline-size; }

    html,body{height:100%; width:100%;}
    body{
      margin:0;
      font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background:#1442a6; background-size:cover; background-position:center; background-repeat:no-repeat;
      color:var(--card);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }

    /* Table area */
    .table{
      width:100%;
      max-width:1400px;
      height:min(86vh, 980px);
      transform-origin:center top;
      transform: scale(var(--ui-scale));
      background:radial-gradient(circle at 30% 10%,rgba(255,255,255,0.02),transparent 20%),var(--table);
      border-radius:20px;
      padding:var(--table-padding);
      box-shadow:0 8px 30px rgba(2,6,23,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
      position:relative;
      display:grid;
      grid-template-columns: 1fr var(--table-center-width) 1fr;
      grid-template-rows: var(--row-outer) 1fr var(--row-outer);
      gap:var(--table-gap);
      transition: grid-template-columns .28s ease, grid-template-rows .28s ease, transform .12s ease;
    }

    /* Players placed around center */
    .player{
      background:var(--glass);
      border-radius:12px;
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:8px;
      align-items:center;
      justify-content:center;
      min-height:100px;
      backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.03);
    }

    .player h3{margin:0;font-size:14px;color:var(--muted);}
    .cards-row{display:flex;gap:8px;align-items:center;justify-content:center;}

    /* card-slot now responsive */
    .card-slot{
      width:var(--card-w);
      height:var(--card-h);
      border-radius:8px;
      background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.25));
      display:flex;align-items:flex-start;justify-content:center;
      color:var(--card);
      font-weight:600;
      font-size:clamp(10px,1.6vw,12px);
      box-shadow:0 6px 18px rgba(2,6,23,0.6);
      border:1px dashed rgba(255,255,255,0.03);
      padding:6px;
      box-sizing:border-box;
      transition: width .18s ease, height .18s ease, font-size .12s ease;
    }

    /* Allow cards to keep proper aspect-ratio in supporting browsers */
    .card-slot { aspect-ratio: 58 / 84; height: auto; }

    /* specific player positions */
    .player-top{grid-column:2 / 3; grid-row:1 / 2;}
    .player-left{grid-column:1 / 2; grid-row:2 / 3;}
    .player-right{grid-column:3 / 4; grid-row:2 / 3;}
    .player-bottom{grid-column:2 / 3; grid-row:3 / 4;}

    /* center area */
    .center-area{
      grid-column:2 / 3; grid-row:2 / 3;
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;
      pointer-events:auto;
    }

    .center-pile{
      width:clamp(120px, 20vw, 180px);
      height:clamp(170px, 28vh, 240px);
      border-radius:12px;
      background:linear-gradient(180deg,#0b2a3b,#07202d);
      display:flex;align-items:center;justify-content:center;flex-direction:column;gap:8px;
      box-shadow:0 12px 40px rgba(2,6,23,0.7);
      border:1px solid rgba(255,255,255,0.04);
      transition: width .18s ease, height .18s ease;
    }
    .center-pile .label{font-size:13px;color:var(--muted)}
    .center-pile .topcard{width:60%;height:70%;border-radius:8px;background:linear-gradient(180deg,#fff,#f0f4f9);color:#07202d;display:flex;align-items:center;justify-content:center;font-weight:700}

    /* lower cards and hand labels */
    .slot-title{font-size:12px;color:var(--muted)}
    .lower-cards{display:flex;gap:6px;align-items:center;justify-content:center}
    .hand{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}

    /* controls */
    .controls{position:absolute;right:20px;top:20px;display:flex;gap:8px}
    .btn{
      background:linear-gradient(180deg,var(--accent),#c96d2a);
      color:#081018;padding:8px 12px;border-radius:10px;font-weight:700;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(201,109,42,0.18);
    }
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);font-weight:600}

    /* decorative footer */
    .footer-note{position:absolute;left:22px;bottom:12px;color:var(--muted);font-size:12px}

    /* --- Responsive breakpoints (media queries as fallback) --- */
    @media (max-width: 920px) {
      .table{
        grid-template-columns: 1fr;
        grid-template-rows: var(--row-outer) 1fr var(--row-outer);
        gap:12px;
        padding:12px;
      }
      .player-left,.player-right{display:none}
      .player-top{grid-row:1}
      .player-bottom{grid-row:3}
      .center-area{grid-row:2}
      .controls{right:12px;top:12px}
      /* scale down UI a touch on small screens */
      :root { --card-w: clamp(40px, 9.8vw, 64px); }
    }

    /* Fine-grained container query: when the .table becomes narrow, stack players */
    @container (max-width: 720px) {
      .table{
        grid-template-columns: 1fr;
        grid-template-rows: var(--row-outer) 1fr var(--row-outer);
      }
      .player-left, .player-right { display: none; }
    }

    /* When the table is very wide, make center narrower relative to edges */
    @media (min-width: 1200px) {
      .table { gap:20px; }
      :root { --table-center-width: clamp(320px, 28vw, 520px); }
    }
  </style>
</head>
<body>
  <div class="table" role="application" aria-label="Card game table">

    <div class="controls">
      <button class="btn" id="resetBtn">Reset Game</button>
      <button class="btn ghost" id="dealDemo">Deal demo</button>
    </div>

    <div class="player player-top" id="player-1">
      <h3>Player 2</h3>
      <div class="slot-title">Lower cards</div>
      <div class="lower-cards" data-owner="p2">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
      <div class="slot-title">Hand</div>
      <div class="hand" data-owner="p2-hand">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
    </div>

    <div class="player player-left" id="player-3">
      <h3>Player 3</h3>
      <div class="slot-title">Lower cards</div>
      <div class="lower-cards" data-owner="p3">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
      <div class="slot-title">Hand</div>
      <div class="hand" data-owner="p3-hand">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
    </div>

    <div class="center-area" id="center">
      <div class="center-pile" id="centercards">
        <div class="label">Center pile</div>
        <div class="topcard" id="topcard">?</div>
        <div class="label">Deck: <span id="deckCount">24</span></div>
      </div>
    </div>

    <div class="player player-right" id="player-4">
      <h3>Player 4</h3>
      <div class="slot-title">Lower cards</div>
      <div class="lower-cards" data-owner="p4">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
      <div class="slot-title">Hand</div>
      <div class="hand" data-owner="p4-hand">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
    </div>

    <div class="player player-bottom" id="player-0">
      <h3>You ðŸŽ´</h3>
      <div class="slot-title">Lower cards</div>
      <div class="lower-cards" data-owner="p0">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
      <div class="slot-title">Hand</div>
      <div class="hand" data-owner="p0-hand">
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
        <div class="card-slot">â€”</div>
      </div>
    </div>

    <div class="footer-note">Quick UI mock â€” slots are placeholders you can populate with cards via JS.</div>
  </div>

  <script>
    // Simple demo interactions: reset and deal demo cards
    const resetBtn = document.getElementById('resetBtn');
    const dealBtn = document.getElementById('dealDemo');

    function resetBoard(){
      document.querySelectorAll('.card-slot').forEach(s => s.textContent = 'â€”');
      document.getElementById('topcard').textContent = '?';
      document.getElementById('deckCount').textContent = '24';
    }

    function dealDemo(){
      const ranks = ['A','2','3','4','5','6','7','8','9','10','J','Q','K'];
      const suits = ['â™ ','â™¥','â™¦','â™£'];
      function randCard(){return ranks[Math.floor(Math.random()*ranks.length)]+suits[Math.floor(Math.random()*suits.length)];}

      document.querySelectorAll('.hand').forEach(hand => {
        hand.querySelectorAll('.card-slot').forEach(slot => slot.textContent = randCard());
      });
      document.querySelectorAll('.lower-cards').forEach(lc => {
        lc.querySelectorAll('.card-slot').forEach((slot,i) => slot.textContent = i===0?randCard():'â€¢');
      });
      document.getElementById('topcard').textContent = randCard();
      document.getElementById('deckCount').textContent = String(Math.floor(Math.random()*30)+10);
    }

    resetBtn.addEventListener('click',resetBoard);
    dealBtn.addEventListener('click',dealDemo);

    // initialize
    resetBoard();

    // Optional: smooth scaling based on available viewport so the layout "snaps" to a usable size.
    // This adjusts --ui-scale (used by .table transform) to avoid overflow on tiny screens.
    (function enableAutoScale(){
      const root = document.documentElement;
      const tableEl = document.querySelector('.table');

      function computeScale(){
        // We want the table to fit comfortably within the viewport.
        // Estimate the table's natural width and compare to viewport width/height.
        const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
        const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);

        // Use the computed style to read the intended table max-width/height
        const naturalMaxWidth = Math.min(1400, vw - 40); // mirrors CSS max-width and body padding
        const naturalHeight = Math.min(vh - 40, 980);

        // Rough bounding box: reduce scale if either dimension would exceed viewport
        const tableRect = tableEl.getBoundingClientRect();
        // If tableRect hasn't laid out yet, use a conservative scale based on vw/vh.
        let scaleW = 1, scaleH = 1;
        if (tableRect.width > 0) scaleW = (vw - 28) / tableRect.width;
        if (tableRect.height > 0) scaleH = (vh - 80) / tableRect.height;

        // Only scale down, never scale up beyond 1. Keep scale in [0.75, 1].
        let scale = Math.min(1, scaleW, scaleH);
        scale = Math.max(0.75, scale);
        root.style.setProperty('--ui-scale', String(scale));
      }

      // compute initially and on resize/orientation change
      computeScale();
      window.addEventListener('resize', computeScale, {passive:true});
      window.addEventListener('orientationchange', computeScale, {passive:true});
    })();
  </script>
</body>
</html>
```


What I changed and why (short): I made the layout responsive using clamp() and CSS variables so card sizes, center column width and paddings smoothly adapt across screen widths; I added container-type + container query and additional media queries so the table can "snap" from a 3-column layout to a single-column stack when it becomes narrow; I used aspect-ratio and fluid font sizes so card visuals stay proportionate; and I added a small JS auto-scale fallback that adjusts a --ui-scale variable so the table scales down on very small screens to avoid overflow. Copy this file over your existing one â€” or pick pieces (clamp(), aspect-ratio, container queries, the JS scale) to integrate incrementally depending on browser support you need.
